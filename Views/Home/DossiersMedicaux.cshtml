@{
    Layout = null;
}


<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediCare - Gestion des Dossiers Médicaux</title>
    <link rel="stylesheet" href="~/css/DossierMedicaux.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="~/js/DossierMedicaux.js" asp-append-version="true"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <a href="@Url.Action("Index", "Home")" class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediCare</span>
            </a>
            <div class="header-actions">
                <a href="@Url.Action("NewPatient", "Home")" class="btn">Connexion</a>
            </div>
        </div>
    </header>

    <nav class="main-nav">
        <div class="nav-container">
            <ul class="nav-list">
                <li><a href="@Url.Action("Index", "Home")" class="nav-link"><i class="fas fa-home"></i> Accueil</a></li>
                <li class="nav-item">
                    <a href="@Url.Action("Services", "Home")" class="nav-link"><i class="fas fa-concierge-bell"></i> Services</a>
                    <ul class="submenu">
                        <li><a href="@Url.Action("RendezVous", "Home")" class="submenu-link"><i class="fas fa-calendar-check"></i> Rendez-Vous</a></li>
                        <li><a href="@Url.Action("Prescription", "Home")" class="submenu-link"><i class="fas fa-prescription-bottle-alt"></i> Prescriptions</a></li>
                        <li><a href="@Url.Action("DossiersMedicaux", "Home")" class="submenu-link"><i class="fas fa-file-medical"></i> Dossiers Médicaux</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="#gestion" class="nav-link active"><i class="fas fa-users-cog"></i> Gestion</a>
                    <ul class="submenu">
                        <li><a href="@Url.Action("Patient", "Home")" class="submenu-link active"><i class="fas fa-file-medical"></i> Patient</a></li>
                        <li><a href="@Url.Action("Medecin", "Home")" class="submenu-link"><i class="fas fa-user-md"></i> Médecins</a></li>
                        <li><a href="@Url.Action("ApplicationUser", "Home")" class="submenu-link"><i class="fas fa-user-shield"></i> Utilisateurs</a></li>
                    </ul>
                </li>
                <li><a href="@Url.Action("Contact", "Home")" class="nav-link"><i class="fas fa-envelope"></i> Contact</a></li>
                <li><a href="@Url.Action("APropos", "Home")" class="nav-link"><i class="fas fa-info-circle"></i> À propos</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <div class="page-header">
            <div class="page-title">
                <i class="fas fa-file-medical page-icon"></i>
                <h1>Gestion des Dossiers Médicaux</h1>
            </div>
            <a href="#" class="btn btn-secondary" id="addDossierBtn">
                <i class="fas fa-plus"></i> Nouveau Dossier
            </a>
        </div>

        <div class="search-filter">
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Rechercher un dossier médical...">
            </div>
            <div class="filter-dropdown">
                <select class="filter-select">
                    <option value="">Tous les dossiers</option>
                    <option value="active">Actifs</option>
                    <option value="inactive">Inactifs</option>
                    <option value="recent">Récents (7 jours)</option>
                </select>
            </div>
        </div>

        <table class="dossiers-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nom du Dossier</th>
                    <th>Date de Création</th>
                    <th>Médecin Responsable</th>
                    <th>Dernière Mise à Jour</th>
                    <th>Statut</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="dossiersTableBody">
                <tr>
                    <td>D-1001</td>
                    <td>Dossier de Jean Dupont</td>
                    <td>15/08/2020</td>
                    <td>Dr. Sophie Martin</td>
                    <td>21/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-dossier="1">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-dossier="1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-dossier="1">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>D-1002</td>
                    <td>Dossier de Marie Lambert</td>
                    <td>22/03/2019</td>
                    <td>Dr. Jean Dupont</td>
                    <td>18/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-dossier="2">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-dossier="2">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-dossier="2">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>D-1003</td>
                    <td>Dossier de Pierre Durand</td>
                    <td>10/11/2018</td>
                    <td>Dr. Marie Lambert</td>
                    <td>15/04/2023</td>
                    <td><span class="status status-inactive">Inactif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-dossier="3">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-dossier="3">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-dossier="3">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>D-1004</td>
                    <td>Dossier de Sophie Martin</td>
                    <td>05/07/2021</td>
                    <td>Dr. Sophie Martin</td>
                    <td>20/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-dossier="4">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-dossier="4">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-dossier="4">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>D-1005</td>
                    <td>Dossier de Lucie Petit</td>
                    <td>30/09/2022</td>
                    <td>Dr. Jean Dupont</td>
                    <td>19/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-dossier="5">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-dossier="5">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-dossier="5">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="modal" id="dossierModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Détails du Dossier #D-1001</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Nom du Dossier</label>
                            <input type="text" class="form-control" value="Dossier de Jean Dupont" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ID du Dossier</label>
                            <input type="text" class="form-control" value="D-1001" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Date de Création</label>
                            <input type="text" class="form-control" value="15/08/2020" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Médecin Responsable</label>
                            <input type="text" class="form-control" value="Dr. Sophie Martin" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Dernière Mise à Jour</label>
                            <input type="text" class="form-control" value="21/05/2023" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Statut</label>
                            <input type="text" class="form-control" value="Actif" readonly>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" rows="2" readonly>Dossier médical complet de Jean Dupont, incluant antécédents, allergies, et traitements en cours.</textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Antécédents Médicaux</label>
                        <textarea class="form-control" rows="3" readonly>Hypertension artérielle légère, suivi annuel. Antécédents familiaux de diabète.</textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="printDossierBtn">
                        <i class="fas fa-print"></i> Imprimer
                    </button>
                    <button class="btn btn-secondary" id="editDossierBtn">
                        <i class="fas fa-edit"></i> Modifier
                    </button>
                    <button class="btn btn-danger" id="archiveDossierBtn">
                        <i class="fas fa-archive"></i> Archiver
                    </button>
                </div>
            </div>
        </div>

        <div class="modal" id="editDossierModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="editModalTitle">Nouveau Dossier</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="dossierForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Nom du Dossier</label>
                                <input type="text" class="form-control" id="dossierName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">ID du Dossier</label>
                                <input type="text" class="form-control" id="dossierId" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Date de Création</label>
                                <input type="date" class="form-control" id="creationDate" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Médecin Responsable</label>
                                <select class="form-control" id="responsibleDoctor" required>
                                    <option value="">Sélectionner...</option>
                                    <option value="1">Dr. Sophie Martin</option>
                                    <option value="2">Dr. Jean Dupont</option>
                                    <option value="3">Dr. Marie Lambert</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Dernière Mise à Jour</label>
                                <input type="date" class="form-control" id="lastUpdate">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Statut</label>
                                <select class="form-control" id="dossierStatus">
                                    <option value="active">Actif</option>
                                    <option value="inactive">Inactif</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="2" id="dossierDescription" placeholder="Description du dossier médical"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Antécédents Médicaux</label>
                            <textarea class="form-control" rows="3" id="medicalHistory" placeholder="Antécédents médicaux importants"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="cancelEditBtn">
                        <i class="fas fa-times"></i> Annuler
                    </button>
                    <button class="btn btn-secondary" id="saveDossierBtn">
                        <i class="fas fa-save"></i> Enregistrer
                    </button>
                </div>
            </div>
        </div>
        <button id="addDossierBtn">Ajouter un dossier</button>
    </main>

  </body>
</html>
