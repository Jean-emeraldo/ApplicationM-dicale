@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediCare - Gestion des Patients</title>
    <link rel="stylesheet" href="../css/Patient.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="~/js/Patient.js" asp-append-version="true"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-container">
            <a href="@Url.Action("Index", "Home")" class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediCare</span>
            </a>
            <div class="header-actions">
                <a href="@Url.Action("NewPatient", "Home")" class="btn">Connexion</a>
            </div>
        </div>
    </header>

    <nav class="main-nav">
        <div class="nav-container">
            <ul class="nav-list">
                <li><a href="@Url.Action("Index", "Home")" class="nav-link"><i class="fas fa-home"></i> Accueil</a></li>
                <li class="nav-item">
                    <a href="@Url.Action("Services", "Home")" class="nav-link"><i class="fas fa-concierge-bell"></i> Services</a>
                    <ul class="submenu">
                        <li><a href="@Url.Action("RendezVous", "Home")" class="submenu-link"><i class="fas fa-calendar-check"></i> Rendez-Vous</a></li>
                        <li><a href="@Url.Action("Prescription", "Home")" class="submenu-link"><i class="fas fa-prescription-bottle-alt"></i> Prescriptions</a></li>
                        <li><a href="@Url.Action("DossierMedical", "Home")" class="submenu-link"><i class="fas fa-file-medical"></i> Dossiers Médicaux</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="#gestion" class="nav-link active"><i class="fas fa-users-cog"></i> Gestion</a>
                    <ul class="submenu">
                        <li><a href="@Url.Action("Patient", "Home")" class="submenu-link active"><i class="fas fa-user-injured"></i> Patients</a></li>
                        <li><a href="@Url.Action("Medecin", "Home")" class="submenu-link"><i class="fas fa-user-md"></i> Médecins</a></li>
                        <li><a href="@Url.Action("ApplicationUser", "Home")" class="submenu-link"><i class="fas fa-user-shield"></i> Utilisateurs</a></li>
                    </ul>
                </li>
                <li><a href="@Url.Action("Contact", "Home")" class="nav-link"><i class="fas fa-envelope"></i> Contact</a></li>
                <li><a href="@Url.Action("APropos", "Home")" class="nav-link"><i class="fas fa-info-circle"></i> À propos</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <div class="page-header">
            <div class="page-title">
                <i class="fas fa-user-injured page-icon"></i>
                <h1>Gestion des Patients</h1>
            </div>
            <a href="#" class="btn btn-secondary" id="addPatientBtn">
                <i class="fas fa-plus"></i> Nouveau Patient
            </a>
        </div>

        <div class="search-filter">
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Rechercher un patient...">
            </div>
            <div class="filter-dropdown">
                <select class="filter-select">
                    <option value="">Tous les patients</option>
                    <option value="active">Actifs</option>
                    <option value="inactive">Inactifs</option>
                    <option value="recent">Récents (7 jours)</option>
                </select>
            </div>
        </div>

        <table class="patients-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nom Complet</th>
                    <th>Date Naissance</th>
                    <th>Téléphone</th>
                    <th>Dernière Visite</th>
                    <th>Statut</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="patientsTableBody">
                <tr>
                    <td>P-1001</td>
                    <td>Jean Dupont</td>
                    <td>15/08/1985</td>
                    <td>06 12 34 56 78</td>
                    <td>21/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-patient="1">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-patient="1">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-patient="1">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>P-1002</td>
                    <td>Marie Lambert</td>
                    <td>22/03/1990</td>
                    <td>07 89 01 23 45</td>
                    <td>18/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-patient="2">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-patient="2">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-patient="2">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>P-1003</td>
                    <td>Pierre Durand</td>
                    <td>10/11/1978</td>
                    <td>06 54 32 10 98</td>
                    <td>15/04/2023</td>
                    <td><span class="status status-inactive">Inactif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-patient="3">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-patient="3">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-patient="3">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>P-1004</td>
                    <td>Sophie Martin</td>
                    <td>05/07/1982</td>
                    <td>07 65 43 21 09</td>
                    <td>20/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-patient="4">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-patient="4">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-patient="4">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>P-1005</td>
                    <td>Lucie Petit</td>
                    <td>30/09/1995</td>
                    <td>06 98 76 54 32</td>
                    <td>19/05/2023</td>
                    <td><span class="status status-active">Actif</span></td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn view-btn" data-patient="5">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn edit-btn" data-patient="5">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-patient="5">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="modal" id="patientModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Détails du Patient #P-1001</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Nom</label>
                            <input type="text" class="form-control" value="Jean" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Prénom</label>
                            <input type="text" class="form-control" value="Dupont" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Date de Naissance</label>
                            <input type="text" class="form-control" value="15/08/1985" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Genre</label>
                            <input type="text" class="form-control" value="Masculin" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Téléphone</label>
                            <input type="text" class="form-control" value="06 12 34 56 78" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="text" class="form-control" value="jean.dupont@example.com" readonly>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Adresse</label>
                        <input type="text" class="form-control" value="15 Rue de la Paix, 75001 Paris" readonly>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Groupe Sanguin</label>
                            <input type="text" class="form-control" value="A+" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Médecin Traitant</label>
                            <input type="text" class="form-control" value="Dr. Sophie Martin" readonly>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Allergies connues</label>
                        <textarea class="form-control" rows="2" readonly>Pénicilline (réaction cutanée)</textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Antécédents médicaux</label>
                        <textarea class="form-control" rows="3" readonly>Hypertension artérielle légère, suivi annuel. Antécédents familiaux de diabète.</textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="printPatientBtn">
                        <i class="fas fa-print"></i> Imprimer
                    </button>
                    <button class="btn btn-secondary" id="editPatientBtn">
                        <i class="fas fa-edit"></i> Modifier
                    </button>
                    <button class="btn btn-danger" id="archivePatientBtn">
                        <i class="fas fa-archive"></i> Archiver
                    </button>
                </div>
            </div>
        </div>

        <div class="modal" id="editPatientModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="editModalTitle">Nouveau Patient</h2>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="patientForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Nom</label>
                                <input type="text" class="form-control" id="lastName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Prénom</label>
                                <input type="text" class="form-control" id="firstName" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Date de Naissance</label>
                                <input type="date" class="form-control" id="birthDate" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Genre</label>
                                <select class="form-control" id="gender" required>
                                    <option value="">Sélectionner...</option>
                                    <option value="M">Masculin</option>
                                    <option value="F">Féminin</option>
                                    <option value="A">Autre</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Téléphone</label>
                                <input type="tel" class="form-control" id="phone" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="email">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Adresse</label>
                            <input type="text" class="form-control" id="address">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Groupe Sanguin</label>
                                <select class="form-control" id="bloodGroup">
                                    <option value="">Inconnu</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Médecin Traitant</label>
                                <select class="form-control" id="doctor">
                                    <option value="">Non attribué</option>
                                    <option value="1">Dr. Sophie Martin</option>
                                    <option value="2">Dr. Jean Dupont</option>
                                    <option value="3">Dr. Marie Lambert</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Allergies connues</label>
                            <textarea class="form-control" rows="2" id="allergies" placeholder="Liste des allergies séparées par des virgules"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Antécédents médicaux</label>
                            <textarea class="form-control" rows="3" id="medicalHistory" placeholder="Antécédents médicaux importants"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn" id="cancelEditBtn">
                        <i class="fas fa-times"></i> Annuler
                    </button>
                    <button class="btn btn-secondary" id="savePatientBtn">
                        <i class="fas fa-save"></i> Enregistrer
                    </button>
                </div>
            </div>
        </div>
    </main>
</body>
</html>
